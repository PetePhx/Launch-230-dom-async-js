<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>03 Buggy Code</title>
    <script>
      // The code below is buggy. The person who created the code expects that when the user clicks on the image that nothing will happen. This, however, wasn't the case and clicks to the image still brought the user to another web page.

      // Study the code and explain the bug.

      // There were two bugs in the code below that are fixed:
       // 1. The event handler for the image has to be added after the document is loaded.
       // 2. In addition to stopPropagation, we need to preventDefault to prevent the redirect by clicking on the image.
      document.addEventListener('DOMContentLoaded', function () { // <========
        document.querySelector('img').addEventListener('click', function(event) {
          event.preventDefault(); // <========
          event.stopPropagation();
        }, false);
      });

    </script>
    <style>
      img {
        display: block;
        width: 15%;
        margin-top: 10px;
        cursor: auto;
      }
    </style>
  </head>
  <body>
    <a href="https://www.launchschool.com">
      Home
      <img src="https://d24f1whwu8r3u4.cloudfront.net/assets/launch-logo-b6d01bd15ee9da31457ee3c315845718823aa8a741858be598ab35042a312348.svg" />
    </a>
  </body>
</html>
