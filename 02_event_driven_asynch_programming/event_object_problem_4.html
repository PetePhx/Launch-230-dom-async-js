<!-- 4. Using the following code, write some JavaScript to add a character counter that updates as the user types.-->

<!doctype html>
<html>
  <head>
    <title>Event Context</title>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        var textarea = document.querySelector('.composer textarea');
        var parag = document.querySelector('.composer .counter');
        parag.textContent = '140 characters remaining';
        var updateRemaining = function () {
          var len = textarea.value.length;
          var remaining = 140 - len;
          (remaining < 0) ? (textarea.classList.add('invalid')) : (textarea.classList.remove('invalid'));

          parag.textContent = String(remaining) + ' ' + 'characters remaining';
        };

        ['keyup', 'keydown', 'keypress'].forEach(function (ev) {
          textarea.addEventListener(ev, updateRemaining);
        });

      });

    </script>
    <style>
      .composer {
        background: #f5f5f5;
        padding:  1em;
        width:  30em;
      }

      .composer textarea {
        width: 100%;
        height: 4em;
        color: black;
      }

      .composer textarea.invalid {
        color: red;
      }
    </style>
  </head>
  <body>
    <div class="composer">
      <textarea placeholder="Enter your message"></textarea>
      <p class="counter"></p>
      <button type="submit">Post Message</button>
    </div>
  </body>
</html>
